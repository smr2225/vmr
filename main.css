/* main.css — только то, что общее для всех страниц */
:root {
  --mars-red: #cd5c5c;
  --mars-orange: #ff6347;
  --mars-brown: #8b4513;
  --mars-dark: #2c1810;
  --mars-light: #ffa07a;
  --day-bg-start: #ff8c42;
  --day-bg-end: #ffd1a9;
  --day-text: #2c1810;
  --day-text-secondary: #5c3a2e;
  --night-bg-start: #1a0e0a;
  --night-bg-end:   #4a2518;   /* тёплый марсианский отсвет */
  --night-text: #ffa07a;
  --night-text-secondary: #cd5c5c;
}

/* Применяется ко всем элементам на странице. */
* { margin: 0; padding: 0; box-sizing: border-box; }


/* Подставил */
.page-title {
  font-size: clamp(1.3rem, 3vw, 1.8rem);
  margin: 0 0 0.3rem 0;
  color: var(--mars-light);
}

html.day body {
  background: linear-gradient(15deg, var(--day-bg-start), var(--day-bg-end));
  /* background-size: 200% 200%; */
  /* animation: gradientShift 30s ease infinite; */
  color: var(--day-text);
}

@keyframes gradientShift {
  0%   { background-position: 0% 50%; }
  50%  { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}


html.night body {
  background: linear-gradient(15deg, var(--night-bg-start), var(--night-bg-end));
  background-size: 200% 200%;
  /* animation: gradientShift 30s ease infinite; */
  color: var(--night-text);
}

html.night body a:link,
html.night body a:visited {
  color: var(--night-text-secondary);
}

html.night body a:hover,
html.night body a:active {
  color: var(--link-hover);
}


body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  line-height: 1.6;
  transition: background 0.3s, color 0.3s;
}

html.day body::before,
html.night body::before {
  content: "Черновик / Draft\A Brouillon / Borrador";
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) rotate(-30deg);
  white-space: pre;
  text-align: center;
  font-family: sans-serif;
  font-weight: bold;
  pointer-events: none;
  z-index: -1;
  opacity: 0.08; /* заметно, но не мешает */
  color: var(--day-text);
}

/* Минимальный размер: крупно даже на мобильных */
@media (max-width: 767px) {
  html.day body::before,
  html.night body::before {
    font-size: 60px;
  }
}

/* Планшеты и узкие десктопы (2 колонки) */
@media (min-width: 768px) and (max-width: 1199px) {
  html.day body::before,
  html.night body::before {
    font-size: 72px;
  }
}

/* Широкие экраны — масштабируемо */
@media (min-width: 1200px) {
  html.day body::before,
  html.night body::before {
    font-size: min(9vw, 140px);
  }
 } 

/* Для ночной темы — свой цвет текста */
html.night body::before {
  color: var(--night-text);
}

/* Дополнительно: чуть выше контраст на очень тёмном фоне */
html.night body::before {
  opacity: 0.22;
}

.container {
  width: 100%;
    position: relative;
  padding-left: clamp(1rem, 5vw, 1rem);
  padding-right: clamp(1rem, 5vw, 1rem);
  padding-bottom: clamp(0.2rem, 0.2vw, 0.2rem);
  margin: 0 auto;
}

header {
  position: relative;
  margin-bottom: 0;
}

/* ШАПКА — днём светлая! */
html.day header {
  background: rgba(--mars-light);
  border-bottom: 1px solid var(--day-bg-end);
   box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
   
}

html.night header {
  background: rgba(44, 24, 16, 0.85);
  border-bottom: 1px solid var(--mars-red);
}

.header-content {
  display: flex;
  justify-content: flex-end; /* ← всё содержимое .header-content прижимается вправо */
  align-items: center;
  /* min-height: 3rem; это по совету ИИ */
  /* min-height убран — пусть контент определяет высоту */
}

.header-controls {
  display: flex;
  gap: clamp(0.3rem, 1vw, 0.6rem);
  align-items: center;
  /* НЕ нужно justify-content здесь — он уже в .header-content */
}

.language-switcher {
  display: flex;
  gap: 0.4rem;
  flex-wrap: wrap;
  /* justify-content: flex-end; */
}

.lang-link {
  color: var(--mars-light);
  text-decoration: none;
  padding: 0.3rem 0.5rem;
  border: 1px solid transparent;
  border-radius: 3px;
  font-size: 0.85rem;
}

html.day .lang-link {
  color: var(--day-text);
}

.lang-link.active,
.lang-link:hover {
  background: var(--mars-red);
  border-color: var(--mars-light);
}

html.day .lang-link.active,
html.day .lang-link:hover {
  background: var(--mars-orange);
  color: white;
}

.theme-toggle,
.menu-toggle {
  background: none;
  border: none;
  color: var(--mars-light);
  font-size: 1.2rem;
  cursor: pointer;
  margin-left: 0.5rem;
}

/* Кнопка скрыта на десктопе */
.menu-toggle {
  display: none;
} 

html.day .theme-toggle,
html.day .menu-toggle {
  color: var(--day-text);
}

/*  Выпадающее меню  === */
nav ul {
  display: flex;
  list-style: none;
  gap: 1.5rem;
  /* margin-top: 1rem; */
  margin-top: clamp(0.2rem, 0.8vw, 0.5rem); /* ← ключевое уменьшение */
  justify-content: center;
  flex-wrap: wrap;
  font-size: 1.1rem; /* ← крупнее! */
}

nav a,
nav strong {
  color: var(--mars-light);
  text-decoration: none;
  opacity: 0.85;
}

html.day nav a,
html.day nav strong {
  color: var(--day-text);
}

nav a:hover,
nav a.active,
nav strong {
  opacity: 1;
  color: var(--mars-orange);
}

/* === 8. Выпадающее мобильное меню — компактная версия === */
/* Мобильное меню — СКРЫТО по умолчанию */
@media (max-width: 767px) {
  .menu-toggle {
    display: block;
  }

  nav ul {
    display: none;
    flex-direction: column;
    gap: 0.6rem;
    padding: 1rem;
    margin: 0;
    /* ↓↓↓ КЛЮЧЕВОЕ: не на всю ширину, а по содержимому ↓↓↓ */
    width: max-content;
    min-width: 140px;
    background: var(--day-bg-end);
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    position: absolute;
    top: 100%;
    right: 1rem; /* отступ от правого края */
    z-index: 10;
  }

  html.night nav ul {
    background: var(--night-bg-start);
  }

  nav ul.show {
    display: flex;
  }

  nav ul li a,
  nav ul li strong {
    font-size: 1rem;
    padding: 0.35rem 0.6rem;
    display: block;
    text-align: left;
    white-space: nowrap; /* запрет переноса */
  }
}


/* ПОДВАЛ */
footer {
  padding: 2rem 0;
  margin-top: 3rem;
  backdrop-filter: blur(5px);
}

html.day footer {
  background: rgba(--day-bg-start);
  border-top: 1px solid var(--mars-orange);
     box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);

}

html.night footer {
  background: rgba(44, 24, 16, 0.85);
  border-top: 1px solid var(--mars-red);
}

footer .container {
  text-align: center;
  font-size: 0.95rem;
  color: var(--mars-light);
}

html.day footer .container {
  color: var(--day-text);
}






/* === Типографика: компактнее, но без ломки структуры === */

html {
  font-size: 15px; /* базовый размер для десктопа */
}

body {
  font-size: 1rem;   /* = 15px */
  line-height: 1.5;
  /* убрал max-width отсюда! */
  padding-inline: 1rem;
}

/* Ограничение ширины только для текстовых блоков */
.article, .content, .text-block {
  max-width: 80ch;
  margin-inline: auto;
}

/* Обычный текст */
p {
  text-align: justify;
  text-indent: 1.2em;
  margin-block: 0.3rem;
  hyphens: auto;
}

/* Заголовки */
h1 { font-size: 1.6rem; margin-block: 1rem; }
h2 { font-size: 1.3rem; margin-block: 0.6rem; }
h3 { font-size: 1.1rem; margin-block: 0.6rem; }

/* Подвал */
footer .container {
  font-size: 0.85rem;
}

/* Мобильные устройства */
@media (max-width: 767px) {
  html { font-size: 14px; }
  body { padding-inline: 0.5rem; }
  p { text-indent: 1em; }
  h1 { font-size: 1.4rem; }
  h2 { font-size: 1.2rem; }
}
